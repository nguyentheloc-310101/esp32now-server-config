<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0" />
    <!-- <script src="https://cdn.tailwindcss.com"></script> -->
    <link
      rel="stylesheet"
      href="../../index.css" />
    <link
      rel="stylesheet"
      href="wifi-config.css" />
    <title>Smart Home</title>
  </head>
  <body>
    <!-- SIDEBAR -->
    <section id="sidebar">
      <a
        href="#"
        class="brand">
        <img
          class="logo"
          src="../../../public/images/logo2.png" />
        <span class="text">Smart Home</span>
      </a>
      <ul class="side-menu top">
        <li>
          <a href="../home/home.html">
            <img
              class="bx sidebar-icon"
              src="../../../public/icons/bxs-dashboard.svg" />
            <span class="text">Dashboard</span>
          </a>
        </li>
        <li>
          <a href="../devices/devices.html">
            <img
              class="bx sidebar-icon"
              src="../../../public/icons/bx-devices.svg" />
            <span class="text">Devices</span>
          </a>
        </li>
        <li class="active">
          <a href="../wifi-config/wifi-config.html">
            <img
              class="bx sidebar-icon"
              src="../../../public/icons/bx-wifi.svg" />
            <span class="text">Wifi configuration</span>
          </a>
        </li>
      </ul>
    </section>
    <!-- SIDEBAR -->

    <!-- CONTENT -->
    <section id="content">
      <!-- NAVBAR -->
      <nav>
        <i class="bx bx-menu">
          <img
            class="bx sidebar-icon"
            src="../../../public/icons/bx-menu.svg" />
        </i>
        <a
          href="#"
          class="nav-link"></a>
        <form action="#">
          <div class="form-input">
            <input
              type="search"
              placeholder="Search..." />
            <button
              type="submit"
              class="search-btn">
              <img
                class="bx sidebar-icon"
                src="../../../public/icons/bx-search.svg" />
            </button>
          </div>
        </form>
        <input
          type="checkbox"
          id="switch-mode"
          hidden />
        <label
          for="switch-mode"
          class="switch-mode"></label>
        <a
          href="#"
          class="notification">
          <i class="bx bxs-bell"></i>
          <span class="num">8</span>
        </a>
        <a
          href="#"
          class="profile">
          <img src="img/people.png" />
        </a>
      </nav>
      <!-- NAVBAR -->

      <!-- MAIN -->
      <main>
        <form class="container-lv1">
          <div>
            <h2 class="title-big">ESP32 Wifi configuration</h2>
            <p class="sub-big-title">Information of your Wifi.</p>

            <div class="bg-form-input">
              <div class="bg-form-input-lv1">
                <div class="text-gray-600">
                  <p class="text-title-small">Wifi Details</p>
                  <p>Choose Wifi and fill password.</p>
                </div>

                <div class="responsive-lv1">
                  <div class="form-lv1">
                    <div class="md-col-span-5">
                      <label
                        for="wifi"
                        class="wifi-select">
                        Wifi:
                      </label>
                      <select
                        required
                        name="wifiSelect"
                        id="wifiSelect"
                        class="content-select-wifi">
                        <!-- <option selected>Choose a wifi</option> -->
                      </select>
                    </div>
                    <div class="md-col-span-5">
                      <label for="email">Password</label>
                      <input
                        required
                        type="password"
                        name="pass"
                        id="pass"
                        class="input-form-item"
                        placeholder="Fill your Password" />
                    </div>

                    <div class="md-col-span-5 text-right flex-between">
                      <a
                        class="nav-link"
                        href="./new-config.html"
                        >Connect to new Wifi</a
                      >

                      <div class="form-wifi-config-button-css-position">
                        <button
                          class="button-primary"
                          type="submit">
                          Connect
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
        <!-- </div> -->
      </main>
      <!-- MAIN -->
    </section>
    <!-- CONTENT -->

    <script src="../../index.js"></script>
    <script src="wifi-config.js"></script>
    <script>
      // Fetch the JSON data
      fetch('wifi-config.json')
        .then((response) => response.json())
        .then((data) => {
          const select = document.getElementById('wifiSelect');

          // Populate select options from JSON data
          data.forEach((wifi) => {
            const option = document.createElement('option');
            option.value = wifi.name;
            option.text = wifi.name;
            select.appendChild(option);
          });
        })
        .catch((error) => console.error('Error fetching data:', error));
    </script>
  </body>
</html>
